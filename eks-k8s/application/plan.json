{"format_version":"1.1","terraform_version":"1.3.7","planned_values":{"root_module":{"resources":[{"address":"kubernetes_deployment.mongo","mode":"managed","type":"kubernetes_deployment","name":"mongo","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mongo","namespace":"rest-to-graph"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"mongo"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"mongo"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"mongo:3.6.17-xenial","lifecycle":[],"liveness_probe":[],"name":"mongo-container","port":[{"container_port":27017,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}},{"address":"kubernetes_deployment.rest-to-graph","mode":"managed","type":"kubernetes_deployment","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph","namespace":"rest-to-graph"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"rest-to-graph"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"rest-to-graph"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MONGO_URL","value":"mongodb://mongo:27017/answers","value_from":[]}],"env_from":[],"image":"hugovallada/rest-to-graph","lifecycle":[],"liveness_probe":[],"name":"rest-to-graph","port":[{"container_port":80,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}},{"address":"kubernetes_namespace.rest-to-graph","mode":"managed","type":"kubernetes_namespace","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph"}],"timeouts":null},"sensitive_values":{"metadata":[{}]}},{"address":"kubernetes_service.mongo","mode":"managed","type":"kubernetes_service","name":"mongo","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mongo","namespace":"rest-to-graph"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":27017,"protocol":"TCP","target_port":"27017"}],"publish_not_ready_addresses":false,"selector":{"app":"mongo"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}},{"address":"kubernetes_service.rest-to-graph","mode":"managed","type":"kubernetes_service","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph","namespace":"rest-to-graph"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":80,"protocol":"TCP","target_port":"3000"}],"publish_not_ready_addresses":false,"selector":{"app":"rest-to-graph"},"session_affinity":"None","type":"LoadBalancer"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}]}},"resource_changes":[{"address":"kubernetes_deployment.mongo","mode":"managed","type":"kubernetes_deployment","name":"mongo","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mongo","namespace":"rest-to-graph"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"mongo"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"mongo"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"mongo:3.6.17-xenial","lifecycle":[],"liveness_probe":[],"name":"mongo-container","port":[{"container_port":27017,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"readiness_gate":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":true}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}}},{"address":"kubernetes_deployment.rest-to-graph","mode":"managed","type":"kubernetes_deployment","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph","namespace":"rest-to-graph"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"rest-to-graph"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"rest-to-graph"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MONGO_URL","value":"mongodb://mongo:27017/answers","value_from":[]}],"env_from":[],"image":"hugovallada/rest-to-graph","lifecycle":[],"liveness_probe":[],"name":"rest-to-graph","port":[{"container_port":80,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]}],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"readiness_gate":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":true}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}}},{"address":"kubernetes_namespace.rest-to-graph","mode":"managed","type":"kubernetes_namespace","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph"}],"timeouts":null},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}]}}},{"address":"kubernetes_service.mongo","mode":"managed","type":"kubernetes_service","name":"mongo","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mongo","namespace":"rest-to-graph"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":27017,"protocol":"TCP","target_port":"27017"}],"publish_not_ready_addresses":false,"selector":{"app":"mongo"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"node_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}},{"address":"kubernetes_service.rest-to-graph","mode":"managed","type":"kubernetes_service","name":"rest-to-graph","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"rest-to-graph","namespace":"rest-to-graph"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":80,"protocol":"TCP","target_port":"3000"}],"publish_not_ready_addresses":false,"selector":{"app":"rest-to-graph"},"session_affinity":"None","type":"LoadBalancer"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"node_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}}],"configuration":{"provider_config":{"kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","expressions":{"config_path":{"constant_value":"~/.kube/config"}}}},"root_module":{"resources":[{"address":"kubernetes_deployment.mongo","mode":"managed","type":"kubernetes_deployment","name":"mongo","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"mongo"},"namespace":{"references":["kubernetes_namespace.rest-to-graph.metadata[0].name","kubernetes_namespace.rest-to-graph.metadata[0]","kubernetes_namespace.rest-to-graph.metadata","kubernetes_namespace.rest-to-graph"]}}],"spec":[{"replicas":{"constant_value":1},"selector":[{"match_labels":{"constant_value":{"app":"mongo"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"mongo"}}}],"spec":[{"container":[{"image":{"constant_value":"mongo:3.6.17-xenial"},"name":{"constant_value":"mongo-container"},"port":[{"container_port":{"constant_value":27017}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_deployment.rest-to-graph","mode":"managed","type":"kubernetes_deployment","name":"rest-to-graph","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"rest-to-graph"},"namespace":{"references":["kubernetes_namespace.rest-to-graph.metadata[0].name","kubernetes_namespace.rest-to-graph.metadata[0]","kubernetes_namespace.rest-to-graph.metadata","kubernetes_namespace.rest-to-graph"]}}],"spec":[{"replicas":{"constant_value":1},"selector":[{"match_labels":{"constant_value":{"app":"rest-to-graph"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"rest-to-graph"}}}],"spec":[{"container":[{"env":[{"name":{"constant_value":"MONGO_URL"},"value":{"constant_value":"mongodb://mongo:27017/answers"}}],"image":{"constant_value":"hugovallada/rest-to-graph"},"name":{"constant_value":"rest-to-graph"},"port":[{"container_port":{"constant_value":80}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_namespace.rest-to-graph","mode":"managed","type":"kubernetes_namespace","name":"rest-to-graph","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"rest-to-graph"}}]},"schema_version":0},{"address":"kubernetes_service.mongo","mode":"managed","type":"kubernetes_service","name":"mongo","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"mongo"},"namespace":{"references":["kubernetes_namespace.rest-to-graph.metadata[0].name","kubernetes_namespace.rest-to-graph.metadata[0]","kubernetes_namespace.rest-to-graph.metadata","kubernetes_namespace.rest-to-graph"]}}],"spec":[{"port":[{"port":{"constant_value":27017},"target_port":{"constant_value":27017}}],"selector":{"references":["kubernetes_deployment.mongo.spec[0].template[0].metadata[0].labels.app","kubernetes_deployment.mongo.spec[0].template[0].metadata[0].labels","kubernetes_deployment.mongo.spec[0].template[0].metadata[0]","kubernetes_deployment.mongo.spec[0].template[0].metadata","kubernetes_deployment.mongo.spec[0].template[0]","kubernetes_deployment.mongo.spec[0].template","kubernetes_deployment.mongo.spec[0]","kubernetes_deployment.mongo.spec","kubernetes_deployment.mongo"]},"type":{"constant_value":"ClusterIP"}}]},"schema_version":1},{"address":"kubernetes_service.rest-to-graph","mode":"managed","type":"kubernetes_service","name":"rest-to-graph","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"rest-to-graph"},"namespace":{"references":["kubernetes_namespace.rest-to-graph.metadata[0].name","kubernetes_namespace.rest-to-graph.metadata[0]","kubernetes_namespace.rest-to-graph.metadata","kubernetes_namespace.rest-to-graph"]}}],"spec":[{"port":[{"port":{"constant_value":80},"target_port":{"constant_value":3000}}],"selector":{"references":["kubernetes_deployment.rest-to-graph.spec[0].template[0].metadata[0].labels.app","kubernetes_deployment.rest-to-graph.spec[0].template[0].metadata[0].labels","kubernetes_deployment.rest-to-graph.spec[0].template[0].metadata[0]","kubernetes_deployment.rest-to-graph.spec[0].template[0].metadata","kubernetes_deployment.rest-to-graph.spec[0].template[0]","kubernetes_deployment.rest-to-graph.spec[0].template","kubernetes_deployment.rest-to-graph.spec[0]","kubernetes_deployment.rest-to-graph.spec","kubernetes_deployment.rest-to-graph"]},"type":{"constant_value":"LoadBalancer"}}]},"schema_version":1}]}},"relevant_attributes":[{"resource":"kubernetes_namespace.rest-to-graph","attribute":["metadata",0,"name"]},{"resource":"kubernetes_deployment.mongo","attribute":["spec",0,"template",0,"metadata",0,"labels","app"]},{"resource":"kubernetes_deployment.rest-to-graph","attribute":["spec",0,"template",0,"metadata",0,"labels","app"]}]}
